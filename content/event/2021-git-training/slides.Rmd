---
title: NOWA Git Training
author: Tamara Cook
date: 2021-12-08
output: revealjs::revealjs_presentation
---

# Introduction

## Motivation

::: incremental

- Facilitating Open Source Software Development
- OSS axiome: Others will see and edit my work
- Meaningful change history
- Parallel development and Collaboration
- SCM but content-agnostic
- Extremely stable and popular
  :::

## Repository

- Project folder knowing its version history
- Lives on local computer or on server
- Can be connected with other repositories (remotes)
- Work offline, explicit communication
- Decentralized but normally used with centralized workflow

## Centralized Workflow

- Central service (Gitlab, Github, Bitbucket)
- User repos connected to central repo by its URL
- Users fetch others work and push their own work

## User Interfaces

- Web interface on central platform
- Command line
- Graphical tool like Tower or Gitkraken
- IDE/Editor integration

## Clone repo from central service

- Frequent first action to work with existing repo
- Automatic combined steps:
  - Create new local repo
  - Add central repo as remote by URL
  - Fetch copy of remote content

## Clone our first example

- Browse <https://vhrz1125.hrz.uni-marburg.de/tcook/empirical-round>
- Expand “Clone” and copy URL ending with .git
- Command: `git clone <URL>`

# Git anatomy

## Repository Contents

`/.git` directory
: Version history data and repo configuration
: Managed by git

Remaining contents
: Working copy of current version
: User-editable, but git can write to it

## Displaying the History

- Open repo directory in terminal or Tower
- Terminal: `git log`
- Tower: Go to History view

## Commit: The history's building-block

autogenerated metadata
: Commit ID, Author, date, …

User-defined metadata
: Descriptive message (normally one line)

Parent ID
: Reference to an older commit

Data
: Changes compared to parent
: Represents a certain complete folder state

## Interpreting Changesets

Files
: Added, modified, or deleted

Lines in files
: Added (+) or deleted (-)

- Tower: Changeset in History view
- Terminal: `git show <commit> <filename>`

## Checkout: Time travel

- Sets any given commit as “current” commit
- Adjusts working copy to content of current commit
- Newly created commit references current commit and becomes current commit afterwards
- Enables alternative history lines (tree graphs)
- Terminal: `git checkout <ID>`

## Branches and tags: Navigational landmarks

- Labels that can be set for any commit
- Can be checked out like commits

Tags
: fixed labels for important commits
: Terminal: `git tag <name>`

Branches
: follow current commit as long as branch is checked out
: Set and checkout branch: `git switch -c <name>`
: Please _main_, not _master_

# Surgery

## Commit Workflow

1. Make sure you're in a good branch, can also be _main_
2. Make some modifications
3. Select modifications for next commit
4. Commit selected modifications

## Status: Working Copy

- Displays working copy overview
- Changes compared to current commit
- Du this habitually if you need to re-orientate
- Terminal: `git status`
- Tower: Working copy view

## Diff: Working Copy Changeset

- Displays modifications within a file
- Changes compared to current commit
- Terminal: `git diff <file>`
- Tower: Working copy view

## Selecting cmodifications

- Select everything: `git add .`
- Select from certain files or directories: `git add <files>`
- Tower: Use checkboxes in Working copy view

## Minimal Feature Workflow

- Decide what you want to implement
- Checkout _main_ and switch to a new branch with descriptive name
- Add commits until you're satisfied
- Merge feature branch into _main_

## Feature Ideas

- Fix language issues in readme file
- Add another license
- Migrate code from Octave to Matlab
- Add more test cases

## Feature Implementation (15 minutes)

- Optionally combine checkout and switch: `git checkout -b feature_branch main`
- Try to implement your feature

## Merge: Re-integrating branches

- Integrates commits from a branch to another
- Git looks for a common commit of source and target
- From _main_ `git merge feature_branch`

No divergence
: Target just moves forward to source

Divergence
: Git tries to add all modifications from source to target in a merge commit

# Sharing

## Fork Repo on Gitlab

- Creates your own copy of a repo on server
- Normally not necessary in smaller teams
- Fork at <https://vhrz1125.hrz.uni-marburg.de/tcook/empirical-round>
- Add your fork locally as remote: `git remote add fork <fork_url>`

## Push: Uploading Work

- Uploads a branch and all its reachable commits to a remote
- Only branches can be pushed
- Push feature: `git push -u fork feature_branch`
- Optionally push _main_: `git push -u fork main`

## Create Merge Request

- Suggest your feature to be merged into my repo on Gitlab
- <https://vhrz1125.hrz.uni-marburg.de/tcook/empirical-round/-/merge_requests/new>
- Select your feature branch in your fork as source

## Fetch: Get Updates

- Downloads new commits: `git fetch`
- Do this regularly if you're not the only member of a repo or have multiple computers
- Use `git status` to check if your branch is behind its remote sibling

# Final remarks

## Suggestion: Workflows follow-up

- A few practice weeks
- Bonus: Fork the [Research Project Template]
- Collect workflows, practical obstacles etc.
- Shorter follow-up session to discuss workflows

## Thanks for your attention

[research project template]: https://vhrz1125.hrz.uni-marburg.de/nowa/tonic-research-project-template
